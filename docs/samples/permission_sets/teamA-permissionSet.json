{
  "action": "create",
  "permissionSetData": {
    "permissionSetName": "teamA-permissionSet",
    "sessionDurationInMinutes": "240",
    "relayState": "https://eu-west-1.console.aws.amazon.com/console/home?region=eu-west-1#",
    "tags": [
      {
        "Key": "versionid",
        "Value": "01"
      },
      {
        "Key": "team",
        "Value": "teamA"
      }
    ],
    "managedPoliciesArnList": ["arn:aws:iam::aws:policy/AWSHealthFullAccess"],
    "inlinePolicyDocument": {
      "Version": "2012-10-17",
      "Statement": [
        {
          "Condition": {
            "StringLike": {
              "iam:PermissionsBoundary": [
                "arn:aws:iam::121111112211:policy/boundaries/ApplicationFullAdmin-PermissionsBoundary"
              ]
            }
          },
          "Action": [
            "iam:DeleteRolePolicy",
            "iam:PutRolePermissionsBoundary",
            "iam:CreateRole",
            "iam:PutRolePolicy",
            "iam:UpdateAssumeRolePolicy"
          ],
          "Resource": ["arn:aws:iam::*:role/Application_*"],
          "Effect": "Allow",
          "Sid": "AllowAttachPermBoundary"
        },
        {
          "Action": [
            "iam:AddRoleToInstanceProfile",
            "iam:CreateInstanceProfile",
            "iam:CreatePolicy",
            "iam:CreatePolicyVersion",
            "iam:DeleteInstanceProfile",
            "iam:DeletePolicy",
            "iam:DeleteRole",
            "iam:PassRole",
            "iam:UpdateRole",
            "iam:DeleteRolePermissionsBoundary",
            "iam:UpdateRoleDescription",
            "iam:RemoveRoleFromInstanceProfile"
          ],
          "Resource": [
            "arn:aws:iam::*:role/Application_*",
            "arn:aws:iam::*:policy/Application_*",
            "arn:aws:iam::*:instance-profile/Application_*"
          ],
          "Effect": "Allow",
          "Sid": "AllowOtherIAMActions"
        },
        {
          "Action": ["iam:List*", "iam:Generate*", "iam:Get*", "iam:Simulate*"],
          "Resource": "*",
          "Effect": "Allow",
          "Sid": "AllowReadIAMActions"
        },
        {
          "Action": "iam:DeleteRolePermissionsBoundary",
          "Resource": "arn:aws:iam::121111112211:policy/boundaries/ApplicationFullAdmin-PermissionsBoundary",
          "Effect": "Deny",
          "Sid": "DenyBoundaryPolicyDelete"
        },
        {
          "Action": [
            "s3:*",
            "lambda:*",
            "appsync:*",
            "athena:*",
            "ecr:*",
            "ecs:*",
            "elasticache:*",
            "es:*",
            "elasticmapreduce:*",
            "fsx:*",
            "firehose:*",
            "glue:*",
            "sagemaker:*",
            "states:*",
            "sns:*",
            "ses:*",
            "sqs:*",
            "cloudwatch:*",
            "logs:*",
            "applicationinsights:*",
            "apigateway:*",
            "cloudformation:*",
            "secretsmanager:*",
            "elasticfilesystem:*",
            "elasticbeanstalk:*",
            "elasticloadbalancing:*",
            "trustedadvisor:*",
            "cloudtrail:*",
            "ce:*",
            "support:*",
            "codebuild:*",
            "codedeploy:*",
            "codepipeline:*",
            "codecommit:*",
            "eks:*",
            "acm:*"
          ],
          "Resource": "*",
          "Effect": "Allow",
          "Sid": "AllowFullAccessToApprovedServices"
        },
        {
          "Action": [
            "compute-optimizer:*",
            "ec2:AssociateIamInstanceProfile",
            "ec2:AssociateAddress",
            "ec2:AcceptReservedInstancesExchangeQuote",
            "ec2:AllocateAddress",
            "ec2:AllocateHosts",
            "ec2:AssignIpv6Addresses",
            "ec2:AssignPrivateIpAddresses",
            "ec2:AttachVolume",
            "ec2:AttachNetworkInterface",
            "ec2:AuthorizeSecurityGroupEgress",
            "ec2:AuthorizeSecurityGroupIngress",
            "ec2:BundleInstance",
            "ec2:CancelBundleTask",
            "ec2:CancelCapacityReservation",
            "ec2:CancelConversionTask",
            "ec2:CancelExportTask",
            "ec2:CancelImportTask",
            "ec2:CancelReservedInstancesListing",
            "ec2:CancelSpotFleetRequests",
            "ec2:CancelSpotInstanceRequests",
            "ec2:ConfirmProductInstance",
            "ec2:CopyFpgaImage",
            "ec2:CopyImage",
            "ec2:CopySnapshot",
            "ec2:CreateCapacityReservation",
            "ec2:CreateFleet",
            "ec2:CreateFpgaImage",
            "ec2:CreateImage",
            "ec2:CreateInstanceExportTask",
            "ec2:CreateKeyPair",
            "ec2:CreateLaunchTemplate",
            "ec2:CreateLaunchTemplateVersion",
            "ec2:CreateManagedPrefixList",
            "ec2:CreatePlacementGroup",
            "ec2:CreateSecurityGroup",
            "ec2:CreateSnapshot",
            "ec2:CreateSnapshots",
            "ec2:CreateSpotDatafeedSubscription",
            "ec2:CreateVolume",
            "ec2:DeleteFleets",
            "ec2:DeleteFpgaImage",
            "ec2:DeleteKeyPair",
            "ec2:DeleteLaunchTemplate",
            "ec2:DeleteLaunchTemplateVersions",
            "ec2:DeleteNetworkInterface",
            "ec2:DeletePlacementGroup",
            "ec2:DeleteManagedPrefixList",
            "ec2:DeleteSecurityGroup",
            "ec2:DeleteSnapshot",
            "ec2:DeleteSpotDatafeedSubscription",
            "ec2:DeleteVolume",
            "ec2:DeregisterImage",
            "ec2:DeregisterInstanceEventNotificationAttributes",
            "ec2:DetachNetworkInterface",
            "ec2:DetachVolume",
            "ec2:DisassociateAddress",
            "ec2:DisassociateIamInstanceProfile",
            "ec2:EnableVolumeIO",
            "ec2:ExportImage",
            "ec2:ImportImage",
            "ec2:ImportInstance",
            "ec2:ImportKeyPair",
            "ec2:ImportSnapshot",
            "ec2:ImportVolume",
            "ec2:ModifyCapacityReservation",
            "ec2:ModifyDefaultCreditSpecification",
            "ec2:ModifyEbsDefaultKmsKeyId",
            "ec2:ModifyFleet",
            "ec2:ModifyFpgaImageAttribute",
            "ec2:ModifyHosts",
            "ec2:ModifyIdentityIdFormat",
            "ec2:ModifyIdFormat",
            "ec2:ModifyImageAttribute",
            "ec2:ModifyInstanceAttribute",
            "ec2:ModifyInstanceCapacityReservationAttributes",
            "ec2:ModifyInstanceCreditSpecification",
            "ec2:ModifyInstanceEventStartTime",
            "ec2:ModifyInstanceMetadataOptions",
            "ec2:ModifyInstancePlacement",
            "ec2:ModifyLaunchTemplate",
            "ec2:ModifyManagedPrefixList",
            "ec2:ModifyNetworkInterfaceAttribute",
            "ec2:ModifyReservedInstances",
            "ec2:ModifySpotFleetRequest",
            "ec2:ModifyVolume",
            "ec2:ModifyVolumeAttribute",
            "ec2:MonitorInstances",
            "ec2:PurchaseHostReservation",
            "ec2:PurchaseReservedInstancesOffering",
            "ec2:PurchaseScheduledInstances",
            "ec2:RebootInstances",
            "ec2:RegisterImage",
            "ec2:RegisterInstanceEventNotificationAttributes",
            "ec2:ReleaseAddress",
            "ec2:ReleaseHosts",
            "ec2:ReplaceIamInstanceProfileAssociation",
            "ec2:ReportInstanceStatus",
            "ec2:RequestSpotFleet",
            "ec2:RequestSpotInstances",
            "ec2:ResetEbsDefaultKmsKeyId",
            "ec2:ResetFpgaImageAttribute",
            "ec2:ResetImageAttribute",
            "ec2:ResetInstanceAttribute",
            "ec2:ResetNetworkInterfaceAttribute",
            "ec2:RestoreAddressToClassic",
            "ec2:RestoreManagedPrefixListVersion",
            "ec2:RevokeSecurityGroupEgress",
            "ec2:RevokeSecurityGroupIngress",
            "ec2:RunInstances",
            "ec2:RunScheduledInstances",
            "ec2:SendDiagnosticInterrupt",
            "ec2:StartInstances",
            "ec2:StopInstances",
            "ec2:TerminateInstances",
            "ec2:UnassignIpv6Addresses",
            "ec2:UnassignPrivateIpAddresses",
            "ec2:UnmonitorInstances",
            "ec2:UpdateSecurityGroupRuleDescriptionsEgress",
            "ec2:UpdateSecurityGroupRuleDescriptionsIngress"
          ],
          "Resource": "*",
          "Effect": "Allow",
          "Sid": "AllowNonNetworkrelatedEC2actions"
        }
      ]
    }
  }
}
